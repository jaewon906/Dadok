# 프로젝트명 : Da독
### LG유플러스의 컨텐츠 구독 사이트인 '유독' 클론코딩 진행했습니다.
#
# API(/api)
## 로그인 
###

#### 카카오톡 로그인 (/kakaoLogin)
1. 카카오 api를 활용해 사용자가 카카오 로그인을 완료하면 엑세스토큰과 리프레쉬 토큰을 가져오고 엑세스 토큰을 활용해 사용자의 정보를 받아올 수 있습니다.
2. 두 토큰을 httpOnly 속성을 부여하여 XSS공격을 예방할 수 있습니다.
3. JWTFilter를 추가하여 인증이 필요한 API에 대해서 두 토큰 인증을 진행합니다.
4. 카카오 API 기준에 맞춰서 엑세스 토큰 인증 시 status 200일 경우 인증처리를 하고, 401 Unauthorized인 경우에만 리프레쉬 토큰 인증을 수행합니다.
5. 리프레쉬 토큰이 인증되면 엑세스 토큰을 재발급 받고 인증이 되지않으면 Spring Security에서 403 Forbidden을 발생시킵니다.

#### 로그아웃 (/logOut)
1. 클라이언트로 부터 엑세스 토큰을 받아서 로그인을 했던 플랫폼(카카오, 네이버, 토스)으로 엑세스 토큰을 전달합니다.
2. 플랫폼은 엑세스토큰을 검증받아 인증 성공시 엑세스 토큰을 만료시킵니다.
3. 엑세스 토큰이 만료되었기 때문에 서비스를 이용하려면 로그인을 다시 진행하여 엑세스토큰을 부여받아야 합니다.  

